<%- include('../partials/header')  %>

<h3><%= flight.flight %></h3>
<h3>On Time: <%= flight.done ? 'Yes' : 'No' %></h3>
<a href="../flight/<%= flight._id %>/edit">Edit Flight</a>

<!-- Display existing destinations -->

<h4>Destinations:</h4>
<ul>
    <% flight.destinations.forEach(function(destination) { %>
        <li>Airport: <%= destination.airport %>, Arrival: <%= destination.arrival %></li>
  <% }); %>
</ul>
<!-- Form to add display existing tickets -->
<h5>Tickets</h5>
<ul>
  <% flight.tickets.forEach(function(ticket) { %>
    <li>Seat: <%= ticket.seat %>, Price: <%= ticket.price %></li>
    <% }); %>
</ul>

<!-- Form to add a new destination -->
<h6>Add Destination:</h6>
<form action="/flights/<%= flight._id %>/destinations" method="post">
  <label for="airport">Airport:</label>
  <select name="airport" id="airport" required>
    <% availableAirports.forEach(function(airport) { %>
      <option value="<%= airport %>"><%= airport %></option>
    <% }); %>
  </select>
  <label for="arrival">Arrival:</label>
  <input type="datetime-local" name="arrival" id="arrival" required>
  <button type="submit">Add Destination</button>
</form>

<a href="../flight/<%= flight._id %>/edit">Edit Flight</a>

<%- include('../partials/footer')  %>